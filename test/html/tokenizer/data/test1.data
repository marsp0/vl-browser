#description
Correct Doctype lowercase
#data
<!DOCTYPE html>
#errors
#states
Data state
#doctype
html
#doctype-quirks
true
#end-test

#description
Correct Doctype uppercase
#data
<!DOCTYPE HTML>
#errors
#states
Data state
#doctype
html
#doctype-quirks
true
#end-test

#description
Correct Doctype mixed case
#data
<!DOCTYPE HtMl>
#errors
#states
Data state
#doctype
html
#doctype-quirks
true
#end-test

#description
Correct Doctype case with EOF
#data
<!DOCTYPE HtMl
#errors
(1, 15): eof-in-doctype
#states
Data state
#doctype
html
#doctype-quirks
false
#end-test

#description
Truncated doctype start
#data
<!DOC>
#errors
(1, 3): incorrectly-opened-comment
#states
Data state
#comment
DOC
#end-test

#description
Doctype in error
#data
<!DOCTYPE foo>
#errors
#states
Data state
#doctype
foo
#doctype-quirks
true
#end-test

#description
Single Start Tag
#data
<h>
#errors
#states
Data state
#start-tag
h
#end-test

#description
Empty end tag
#data
</>
#errors
(1, 3): missing-end-tag-name
#states
Data state
#end-test

#description
Empty start tag
#data
<>
#errors
(1, 2): invalid-first-character-of-tag-name
#states
Data state
#character
<
#character
>
#end-test

#description
Start Tag w/attribute
#data
<h a='b'>
#errors
#states
Data state
#start-tag
h
#attr-name
a
#attr-value
b
#end-test

#description
Start Tag w/attribute no quotes
#data
<h a=b>
#errors
#states
Data state
#start-tag
h
#attr-name
a
#attr-value
b
#end-test

#description
Start/End Tag
#data
<h></h>
#errors
#states
Data state
#start-tag
h
#end-tag
h
#end-test

#description
Two unclosed start tags
#data
<p>One<p>Two
#errors
#states
Data state
#start-tag
p
#character
O
#character
n
#character
e
#start-tag
p
#character
T
#character
w
#character
o
#end-test

#description
End Tag w/attribute
#data
<h></h a='b'>
#errors
(1, 13): end-tag-with-attributes
#states
Data state
#start-tag
h
#end-tag
h
#end-test

#description
Multiple atts
#data
<h a='b' c='d'>
#errors
#states
Data state
#start-tag
h
#attr-name
a
#attr-value
b
#attr-name
c
#attr-value
d
#end-test

#description
Multiple atts no space
#data
<h a='b'c='d'>
#errors
(1, 9): missing-whitespace-between-attributes
#states
Data state
#start-tag
h
#attr-name
a
#attr-value
b
#attr-name
c
#attr-value
d
#end-test

#description
Repeated attr
#data
<h a='b' a='d'>
#errors
(1, 11): duplicate-attribute
#states
Data state
#start-tag
h
#attr-name
a
#attr-value
b
#end-test

#description
Simple comment
#data
<!--comment-->
#errors
#states
Data state
#comment
comment
#end-test

#description
Comment, Central dash no space
#data
<!----->
#errors
#states
Data state
#comment
-
#end-test

#description
Comment, two central dashes
#data
<!-- --comment -->
#errors
#states
Data state
#comment
 --comment 
#end-test

#description
Comment, central less-than bang
#data
<!--<!-->
#errors
#states
Data state
#comment
<!
#end-test

#description
Unfinished comment
#data
<!--comment
#errors
(1, 12): eof-in-comment
#states
Data state
#comment
comment
#end-test

#description
Unfinished comment after start of nested comment
#data
<!-- <!--
#errors
(1, 10): eof-in-comment
#states
Data state
#comment
 <!
#end-test

#description
Start of a comment
#data
<!-
#errors
(1, 3): incorrectly-opened-comment
#states
Data state
#comment
-
#end-test

#description
Short comment
#data
<!-->
#errors
(1, 5): abrupt-closing-of-empty-comment
#states
Data state
#comment

#end-test

#description
Short comment two
#data
<!--->
#errors
(1, 6): abrupt-closing-of-empty-comment
#states
Data state
#comment

#end-test

#description
Short comment three
#data
<!---->
#errors
#states
Data state
#comment

#end-test

#description
< in comment
#data
<!-- <test-->
#errors
#states
Data state
#comment
 <test
#end-test

#description
<< in comment
#data
<!--<<-->
#errors
#states
Data state
#comment
<<
#end-test

#description
<! in comment
#data
<!-- <!test-->
#errors
#states
Data state
#comment
 <!test
#end-test

#description
<!- in comment
#data
<!-- <!-test-->
#errors
#states
Data state
#comment
 <!-test
#end-test

#description
Nested comment
#data
<!-- <!--test-->
#errors
(1, 10): nested-comment
#states
Data state
#comment
 <!--test
#end-test

#description
Nested comment with extra <
#data
<!-- <<!--test-->
#errors
(1, 11): nested-comment
#states
Data state
#comment
 <<!--test
#end-test

#description
< in script data
#data
<test-->
#errors
#states
Script data state
#character
<
#character
t
#character
e
#character
s
#character
t
#character
-
#character
-
#character
>
#end-test

#description
<! in script data
#data
<!test-->
#errors
#states
Script data state
#character
<
#character
!
#character
t
#character
e
#character
s
#character
t
#character
-
#character
-
#character
>
#end-test

#description
<!- in script data
#data
<!-test-->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
t
#character
e
#character
s
#character
t
#character
-
#character
-
#character
>
#end-test

#description
Escaped script data
#data
<!--test-->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
t
#character
e
#character
s
#character
t
#character
-
#character
-
#character
>
#end-test

#description
< in script HTML comment
#data
<!-- < test -->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
 
#character
<
#character
 
#character
t
#character
e
#character
s
#character
t
#character
 
#character
-
#character
-
#character
>
#end-test

#description
</ in script HTML comment
#data
<!-- </ test -->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
 
#character
<
#character
/
#character
 
#character
t
#character
e
#character
s
#character
t
#character
 
#character
-
#character
-
#character
>
#end-test

#description
Start tag in script HTML comment
#data
<!-- <test> -->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
 
#character
<
#character
t
#character
e
#character
s
#character
t
#character
>
#character
 
#character
-
#character
-
#character
>
#end-test

#description
End tag in script HTML comment
#data
<!-- </test> -->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
 
#character
<
#character
/
#character
t
#character
e
#character
s
#character
t
#character
>
#character
 
#character
-
#character
-
#character
>
#end-test

#description
- in script HTML comment double escaped
#data
<!--<script>-</script>-->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
<
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
<
#character
/
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
-
#character
>
#end-test

#description
-- in script HTML comment double escaped
#data
<!--<script>--</script>-->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
<
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
-
#character
<
#character
/
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
-
#character
>
#end-test

#description
--- in script HTML comment double escaped
#data
<!--<script>---</script>-->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
<
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
-
#character
-
#character
<
#character
/
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
-
#character
>
#end-test

#description
- spaced in script HTML comment double escaped
#data
<!--<script> - </script>-->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
<
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
 
#character
-
#character
 
#character
<
#character
/
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
-
#character
>
#end-test

#description
-- spaced in script HTML comment double escaped
#data
<!--<script> -- </script>-->
#errors
#states
Script data state
#character
<
#character
!
#character
-
#character
-
#character
<
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
 
#character
-
#character
-
#character
 
#character
<
#character
/
#character
s
#character
c
#character
r
#character
i
#character
p
#character
t
#character
>
#character
-
#character
-
#character
>
#end-test

#description
Ampersand EOF
#data
&
#errors
#states
Data state
#character
&
#end-test

#description
Ampersand ampersand EOF
#data
&&
#errors
#states
Data state
#character
&
#character
&
#end-test

#description
Ampersand space EOF
#data
& 
#errors
#states
Data state
#character
&
#character
 
#end-test

#description
Unfinished entity
#data
&f
#errors
#states
Data state
#character
&
#character
f
#end-test

#description
Ampersand, number sign
#data
&#
#errors
(1, 3): absence-of-digits-in-numeric-character-reference
#states
Data state
#character
&
#character
#
#end-test

#description
Unfinished numeric entity
#data
&#x
#errors
(1, 4): absence-of-digits-in-numeric-character-reference
#states
Data state
#character
&
#character
#
#character
x
#end-test

#description
Entity with trailing semicolon (1)
#data
I'm &not;it
#errors
#states
Data state
#character
I
#character
'
#character
m
#character
 
#character
¬
#character
i
#character
t
#end-test

#description
Entity with trailing semicolon (2)
#data
I'm &notin;
#errors
#states
Data state
#character
I
#character
'
#character
m
#character
 
#character
∉
#end-test

#description
Entity without trailing semicolon (1)
#data
I'm &notit
#errors
(1, 9): missing-semicolon-after-character-reference
#states
Data state
#character
I
#character
'
#character
m
#character
 
#character
¬
#character
i
#character
t
#end-test

#description
Entity without trailing semicolon (2)
#data
I'm &notin
#errors
(1, 9): missing-semicolon-after-character-reference
#states
Data state
#character
I
#character
'
#character
m
#character
 
#character
¬
#character
i
#character
n
#end-test

#description
Partial entity match at end of file
#data
I'm &no
#errors
#states
Data state
#character
I
#character
'
#character
m
#character
 
#character
&
#character
n
#character
o
#end-test

#description
Non-ASCII character reference name
#data
&¬;
#errors
#states
Data state
#character
&
#character
¬
#character
;
#end-test

#description
ASCII decimal entity
#data
&#0036;
#errors
#states
Data state
#character
$
#end-test

#description
ASCII hexadecimal entity
#data
&#x3f;
#errors
#states
Data state
#character
?
#end-test

#description
Unquoted attribute ending in ampersand
#data
<s o=& t>
#errors
#states
Data state
#start-tag
s
#attr-name
o
#attr-value
&
#attr-name
t
#attr-value

#end-test

#description
Unquoted attribute at end of tag with final character of &, with tag followed by characters
#data
<a a=a&>foo
#errors
#states
Data state
#start-tag
a
#attr-name
a
#attr-value
a&
#character
f
#character
o
#character
o
#end-test

#description
plaintext element
#data
<plaintext>foobar
#errors
#states
Data state
#start-tag
plaintext
#character
f
#character
o
#character
o
#character
b
#character
a
#character
r
#end-test

#description
Open angled bracket in unquoted attribute value state
#data
<a a=f<>
#errors
(1, 7): unexpected-character-in-unquoted-attribute-value
#states
Data state
#start-tag
a
#attr-name
a
#attr-value
f<
#end-test
